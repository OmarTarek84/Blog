{"version":3,"sources":["Components/EditProfileModal/EditProfileModal.js","Components/Backdrop/Backdrop.js","Components/Form/Form.js","hoc/Error.js","Containers/Auth/Auth.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","profileModal","props","a","createElement","className","children","backdrop","show","onClick","clicked","form","errorMessage","element","classes","touched","invalid","push","invalidN","elementType","Fragment","Object","assign","value","elementConfig","onChange","changed","join","options","map","option","displayValue","label","style","color","error","WrappedComponent","axios","_Component","_temp","_getPrototypeOf2","_this","E_omar_programming_portofolioooo_blog_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","E_omar_programming_portofolioooo_blog_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_omar_programming_portofolioooo_blog_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","closeBackdrop","setState","E_omar_programming_portofolioooo_blog_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","E_omar_programming_portofolioooo_blog_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","_this2","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","err","eject","errormsg","data","errors","message","react__WEBPACK_IMPORTED_MODULE_5___default","_Components_Backdrop_Backdrop__WEBPACK_IMPORTED_MODULE_7__","_Components_EditProfileModal_EditProfileModal__WEBPACK_IMPORTED_MODULE_6__","Component","Auth","signal","CancelToken","source","authForm","name","placeholder","type","valid","validationRules","required","email","emailValid","password","minLength","confirm_password","passwordMatch","Photo","formIsValid","imageSelected","file","isLogged","changeInput","event","inputType","E_omar_programming_portofolioooo_blog_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","stateElement","target","files","URL","createObjectURL","checkValidity","rules","isValid","trim","test","signup","preventDefault","formData","FormData","append","put","then","path","imagePath","filepath","requestBody","query","variables","photo","post","headers","Content-Type","cancelToken","token","result","undefined","history","catch","console","log","cancel","elementsArray","id","config","react__WEBPACK_IMPORTED_MODULE_6___default","_Components_Form_Form__WEBPACK_IMPORTED_MODULE_8__","_Components_Button_Button__WEBPACK_IMPORTED_MODULE_9__","centered","disabled","click","width","height","src","alt","ErrorComponent"],"mappings":"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","file":"static/js/9.c60c58c4.chunk.js","sourcesContent":["import React from 'react';\r\nimport './EditProfileModal.css';\r\n\r\nconst profileModal = props => {\r\n    return (\r\n        <div className=\"profileModal\">{props.children}</div>\r\n    )\r\n};\r\n\r\nexport default profileModal;","import React from 'react';\r\nimport './Backdrop.css';\r\n\r\nconst backdrop = props => {\r\n    return props.show ? <div className='backdrop' onClick={props.clicked}>{props.children}</div> : null;\r\n};\r\n\r\nexport default backdrop;","import React from 'react';\r\nimport './Form.css';\r\n\r\nconst form = props => {\r\n    let element = null;\r\n    let errorMessage;\r\n    const classes = []\r\n    if (props.touched && props.invalid) {\r\n        classes.push('invalid');\r\n        errorMessage = props.errorMessage\r\n    }\r\n\r\n    if (props.touched && !props.invalid && !props.invalidN) {\r\n        classes.push('valid');\r\n        errorMessage = ''\r\n    }\r\n\r\n    if (props.touched && props.invalidN) {\r\n        classes.push('invalid-newpost');\r\n        errorMessage = props.errorMessage\r\n    }\r\n\r\n    if (props.touched && !props.invalidN && !props.invalid) {\r\n        classes.push('valid-newpost');\r\n        errorMessage = ''\r\n    }\r\n    switch(props.elementType) {\r\n        case 'input':\r\n            element = (\r\n                <>\r\n                <input value={props.value}\r\n                       {...props.elementConfig}\r\n                       onChange={props.changed}\r\n                       className= {classes.join(' ')}/>\r\n                </>\r\n            )\r\n            break;\r\n        case 'textarea':\r\n            element = (\r\n                <>\r\n                    <textarea {...props.elementConfig}\r\n                              onChange={props.changed}\r\n                              className={classes.join(' ')}\r\n                              value={props.value}></textarea>\r\n                </>\r\n            )\r\n            break;\r\n        case 'select':\r\n            element = (\r\n                <select value={props.value} onChange={props.changed}>\r\n                    {props.elementConfig.options.map(option => {\r\n                        return (\r\n                            <option value={option.value}>\r\n                                {option.displayValue}\r\n                            </option>\r\n                        )\r\n                    })}\r\n                </select>\r\n            )\r\n            break;\r\n        default:\r\n            element = (\r\n                <input value={props.value}\r\n                        {...props.elementConfig}\r\n                        onChange={props.changed} />\r\n            )\r\n            break;\r\n    }\r\n    return (\r\n        <>\r\n            <label>{props.label}</label>\r\n            {element}\r\n            <p style={{color: 'red'}}>{errorMessage}</p>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default form;","import React, {Component} from 'react';\r\nimport Modal from '../Components/EditProfileModal/EditProfileModal';\r\nimport Backdrop from '../Components/Backdrop/Backdrop';\r\nimport './Error.css';\r\n\r\nconst error = (WrappedComponent, axios) => {\r\n    return class extends Component {\r\n        state = {\r\n            error: null\r\n        }\r\n\r\n        componentWillMount() {\r\n            this.reqInterceptor = axios.interceptors.request.use(req => {\r\n                this.setState({error: null});\r\n                return req;\r\n            });\r\n\r\n            this.resInterceptor = axios.interceptors.response.use(res => {\r\n                return res;\r\n            }, err => {\r\n                this.setState({error: err});\r\n            });\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            axios.interceptors.request.eject(this.reqInterceptor);\r\n            axios.interceptors.response.eject(this.resInterceptor);\r\n        }\r\n\r\n        closeBackdrop = () => {\r\n            this.setState({error: null});\r\n        }\r\n\r\n        render() {\r\n            let errormsg;\r\n            if (this.state.error) {\r\n                errormsg = this.state.error.response.data.errors[0].message;\r\n            } else {\r\n                errormsg = null;\r\n            }\r\n            return (\r\n                <>\r\n                <Backdrop show={this.state.error} clicked={this.closeBackdrop}>\r\n                    <Modal>\r\n                        <div className=\"error\">\r\n                            <h1>An Error Occurred</h1>\r\n                            <div className=\"editProfile__icon\" onClick={this.closeBackdrop}>\r\n                                <i className=\"fas fa-times-circle\"></i>\r\n                            </div>\r\n                            <p>{errormsg}</p>\r\n                        </div>\r\n                    </Modal>\r\n                </Backdrop>\r\n                <WrappedComponent {...this.props} />\r\n                </>\r\n            )\r\n        }\r\n    }\r\n};\r\n\r\nexport default error;","import React, {Component} from 'react';\r\nimport './Auth.css';\r\nimport Input from '../../Components/Form/Form';\r\nimport Button from '../../Components/Button/Button';\r\nimport axios from 'axios';\r\nimport ErrorComponent from '../../hoc/Error';\r\n\r\nclass Auth extends Component {\r\n\r\n    signal = axios.CancelToken.source();\r\n    state = {\r\n        authForm: {\r\n            name: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    placeholder: 'Type Your Name Here',\r\n                    type: 'text',\r\n                    name: 'name',\r\n                    label: 'Name'\r\n                },\r\n                value: '',\r\n                valid: false,\r\n                validationRules: {\r\n                    required: true\r\n                },\r\n                touched: false,\r\n                errorMessage: 'This Field is Required!'\r\n            },\r\n            email: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    placeholder: 'Type Your Email Here',\r\n                    type: 'email',\r\n                    name: 'email',\r\n                    label: 'Email',\r\n                    \r\n                },\r\n                value: '',\r\n                valid: false,\r\n                validationRules: {\r\n                    required: true,\r\n                    emailValid: true\r\n                },\r\n                touched: false,\r\n                errorMessage: 'Invalid Email'\r\n            },\r\n            password: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    placeholder: 'Type Your Password Here',\r\n                    type: 'password',\r\n                    name: 'password',\r\n                    label: 'Password'\r\n                },\r\n                value: '',\r\n                valid: false,\r\n                validationRules: {\r\n                    required: true,\r\n                    minLength: true\r\n                },\r\n                touched: false,\r\n                errorMessage: 'Password should have at least 8 characters'\r\n            },\r\n            confirm_password: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    placeholder: 'Confirm Your Password',\r\n                    type: 'password',\r\n                    name: 'confirmpassword',\r\n                    label: 'Confirm Password'\r\n                },\r\n                value: '',\r\n                valid: false,\r\n                validationRules: {\r\n                    required: true,\r\n                    passwordMatch: true\r\n                },\r\n                touched: false,\r\n                errorMessage: 'Passwords Do Not Match'\r\n            },\r\n            Photo: {\r\n                elementType: 'input',\r\n                elementConfig: {\r\n                    type: 'file',\r\n                    name: 'image',\r\n                    label: 'Pick Your Profile Photo'\r\n                },\r\n                validationRules: {\r\n                    required: true\r\n                },\r\n                value: '',\r\n                valid: true,\r\n                errorMessage: ''\r\n            }\r\n        },\r\n        formIsValid: false,\r\n        imageSelected: null,\r\n        file: null,\r\n        isLogged: false\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.signal.cancel();\r\n    }\r\n\r\n    changeInput = (event, inputType) => {\r\n        const authForm = {...this.state.authForm};\r\n        const stateElement = authForm[inputType];\r\n        stateElement.value = event.target.value;\r\n        stateElement.touched = true;\r\n        if (inputType === 'Photo') {\r\n            const file = event.target.files[0];\r\n            this.setState({imageSelected: URL.createObjectURL(file), file: file});\r\n        }\r\n        if (inputType === 'password') {\r\n            authForm['confirm_password'].value = '';\r\n            authForm['confirm_password'].valid = false;\r\n        }\r\n        if (inputType === 'confirm_password') {\r\n            if (stateElement.value === authForm['password'].value) {\r\n                stateElement.valid = true;\r\n            } else {\r\n                stateElement.valid = false;\r\n            }\r\n        } else {\r\n            stateElement.valid = this.checkValidity(stateElement.validationRules, stateElement.value);\r\n        }\r\n        authForm[inputType] = stateElement;\r\n\r\n        let formIsValid = true;\r\n        for (let key in authForm) {\r\n            formIsValid = authForm[key].valid && formIsValid;\r\n        }\r\n\r\n        this.setState({authForm: authForm, formIsValid: formIsValid});\r\n    }\r\n\r\n    checkValidity = (rules, value) => {\r\n        let isValid = true;\r\n        if (rules.required) {\r\n            isValid = value.trim() !== '' && isValid;\r\n        }\r\n\r\n        if (rules.emailValid) {\r\n            var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            isValid = re.test(value) && isValid;\r\n        }\r\n\r\n        if (rules.minLength) {\r\n            isValid = value.length >= 8 && isValid;\r\n        }\r\n\r\n        return isValid;\r\n\r\n    }\r\n\r\n    signup = (event) => {\r\n        this.setState({isLogged: true});\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('image', this.state.file);\r\n        axios.put('/insertImage', formData).then(path => {\r\n            const imagePath = path.data.filepath;\r\n            const requestBody = {\r\n                query: `\r\n                    mutation CreateUser($name: String!, $email: String!, $password: String, $photo: String!) {\r\n                        createUser(userInput: {name: $name, email: $email, password: $password, photo: $photo}) {\r\n                            _id\r\n                            name\r\n                            email\r\n                            photo\r\n                          }\r\n                    }\r\n                `,\r\n                variables: {\r\n                    name: this.state.authForm.name.value,\r\n                    email: this.state.authForm.email.value,\r\n                    password: this.state.authForm.password.value,\r\n                    photo: imagePath\r\n                }\r\n            };\r\n    \r\n            return axios.post('/graphql', requestBody, {\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                cancelToken: this.signal.token\r\n            }).then(result => {\r\n                if (result !== undefined) {\r\n                    this.props.history.push('/signin');\r\n                }\r\n                this.setState({isLogged: false});\r\n            })\r\n            .catch(err => {\r\n                this.setState({isLogged: false});\r\n                console.log(err);\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let elementsArray = [];\r\n        for (let key in this.state.authForm) {\r\n            elementsArray.push({\r\n                id: key,\r\n                config: this.state.authForm[key]\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"auth\">\r\n                <form>\r\n                    <h1>Sign Up</h1>\r\n                    <div className=\"formParent\">\r\n                    {elementsArray.map(element => {\r\n                        return (\r\n                            <div key={element.id}>\r\n                                <Input value={element.config.value}\r\n                                      elementType={element.config.elementType}\r\n                                      elementConfig={element.config.elementConfig}\r\n                                      label={element.config.elementConfig.label}\r\n                                      changed={(event) => this.changeInput(event, element.id)}\r\n                                      invalid={!element.config.valid}\r\n                                      touched={element.config.touched}\r\n                                      errorMessage={element.config.errorMessage} />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                    </div>\r\n                    <Button type=\"submit\" centered disabled={!this.state.formIsValid || this.state.isLogged} click={this.signup}>Submit</Button>\r\n                    <div className=\"image\">\r\n                        {this.state.imageSelected\r\n                         ?\r\n                         <img style={{width: '150px', height: '150px'}} src={this.state.imageSelected} alt=\"sdilhf\" />\r\n                         :\r\n                         null\r\n                        }\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorComponent(Auth, axios);"],"sourceRoot":""}
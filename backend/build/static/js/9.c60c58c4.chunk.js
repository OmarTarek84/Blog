(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{121:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(126);a.a=function(e){return r.a.createElement("div",{className:"profileModal"},e.children)}},122:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(127);a.a=function(e){return e.show?r.a.createElement("div",{className:"backdrop",onClick:e.clicked},e.children):null}},123:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(125);a.a=function(e){var a,t=null,n=[];switch(e.touched&&e.invalid&&(n.push("invalid"),a=e.errorMessage),!e.touched||e.invalid||e.invalidN||(n.push("valid"),a=""),e.touched&&e.invalidN&&(n.push("invalid-newpost"),a=e.errorMessage),!e.touched||e.invalidN||e.invalid||(n.push("valid-newpost"),a=""),e.elementType){case"input":t=r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({value:e.value},e.elementConfig,{onChange:e.changed,className:n.join(" ")})));break;case"textarea":t=r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",Object.assign({},e.elementConfig,{onChange:e.changed,className:n.join(" "),value:e.value})));break;case"select":t=r.a.createElement("select",{value:e.value,onChange:e.changed},e.elementConfig.options.map(function(e){return r.a.createElement("option",{value:e.value},e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({value:e.value},e.elementConfig,{onChange:e.changed}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,e.label),t,r.a.createElement("p",{style:{color:"red"}},a))}},124:function(e,a,t){"use strict";var n=t(8),r=t(9),l=t(11),i=t(10),o=t(12),s=t(0),c=t.n(s),u=t(121),m=t(122);t(128);a.a=function(e,a){return function(t){function s(){var e,a;Object(n.a)(this,s);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(s)).call.apply(e,[this].concat(r)))).state={error:null},a.closeBackdrop=function(){a.setState({error:null})},a}return Object(o.a)(s,t),Object(r.a)(s,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=a.interceptors.request.use(function(a){return e.setState({error:null}),a}),this.resInterceptor=a.interceptors.response.use(function(e){return e},function(a){e.setState({error:a})})}},{key:"componentWillUnmount",value:function(){a.interceptors.request.eject(this.reqInterceptor),a.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){var a;return a=this.state.error?this.state.error.response.data.errors[0].message:null,c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{show:this.state.error,clicked:this.closeBackdrop},c.a.createElement(u.a,null,c.a.createElement("div",{className:"error"},c.a.createElement("h1",null,"An Error Occurred"),c.a.createElement("div",{className:"editProfile__icon",onClick:this.closeBackdrop},c.a.createElement("i",{className:"fas fa-times-circle"})),c.a.createElement("p",null,a)))),c.a.createElement(e,this.props))}}]),s}(s.Component)}},125:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},135:function(e,a,t){},140:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(8),l=t(9),i=t(11),o=t(10),s=t(12),c=t(0),u=t.n(c),m=(t(135),t(123)),d=t(27),p=t(13),h=t.n(p),v=t(124),f=function(e){function a(){var e,t;Object(r.a)(this,a);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s)))).signal=h.a.CancelToken.source(),t.state={authForm:{name:{elementType:"input",elementConfig:{placeholder:"Type Your Name Here",type:"text",name:"name",label:"Name"},value:"",valid:!1,validationRules:{required:!0},touched:!1,errorMessage:"This Field is Required!"},email:{elementType:"input",elementConfig:{placeholder:"Type Your Email Here",type:"email",name:"email",label:"Email"},value:"",valid:!1,validationRules:{required:!0,emailValid:!0},touched:!1,errorMessage:"Invalid Email"},password:{elementType:"input",elementConfig:{placeholder:"Type Your Password Here",type:"password",name:"password",label:"Password"},value:"",valid:!1,validationRules:{required:!0,minLength:!0},touched:!1,errorMessage:"Password should have at least 8 characters"},confirm_password:{elementType:"input",elementConfig:{placeholder:"Confirm Your Password",type:"password",name:"confirmpassword",label:"Confirm Password"},value:"",valid:!1,validationRules:{required:!0,passwordMatch:!0},touched:!1,errorMessage:"Passwords Do Not Match"},Photo:{elementType:"input",elementConfig:{type:"file",name:"image",label:"Pick Your Profile Photo"},validationRules:{required:!0},value:"",valid:!0,errorMessage:""}},formIsValid:!1,imageSelected:null,file:null,isLogged:!1},t.changeInput=function(e,a){var r=Object(n.a)({},t.state.authForm),l=r[a];if(l.value=e.target.value,l.touched=!0,"Photo"===a){var i=e.target.files[0];t.setState({imageSelected:URL.createObjectURL(i),file:i})}"password"===a&&(r.confirm_password.value="",r.confirm_password.valid=!1),"confirm_password"===a?l.value===r.password.value?l.valid=!0:l.valid=!1:l.valid=t.checkValidity(l.validationRules,l.value),r[a]=l;var o=!0;for(var s in r)o=r[s].valid&&o;t.setState({authForm:r,formIsValid:o})},t.checkValidity=function(e,a){var t=!0;if(e.required&&(t=""!==a.trim()&&t),e.emailValid){t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)&&t}return e.minLength&&(t=a.length>=8&&t),t},t.signup=function(e){t.setState({isLogged:!0}),e.preventDefault();var a=new FormData;a.append("image",t.state.file),h.a.put("/insertImage",a).then(function(e){var a=e.data.filepath,n={query:"\n                    mutation CreateUser($name: String!, $email: String!, $password: String, $photo: String!) {\n                        createUser(userInput: {name: $name, email: $email, password: $password, photo: $photo}) {\n                            _id\n                            name\n                            email\n                            photo\n                          }\n                    }\n                ",variables:{name:t.state.authForm.name.value,email:t.state.authForm.email.value,password:t.state.authForm.password.value,photo:a}};return h.a.post("/graphql",n,{headers:{"Content-Type":"application/json"},cancelToken:t.signal.token}).then(function(e){void 0!==e&&t.props.history.push("/signin"),t.setState({isLogged:!1})}).catch(function(e){t.setState({isLogged:!1}),console.log(e)})})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.signal.cancel()}},{key:"render",value:function(){var e=this,a=[];for(var t in this.state.authForm)a.push({id:t,config:this.state.authForm[t]});return u.a.createElement("div",{className:"auth"},u.a.createElement("form",null,u.a.createElement("h1",null,"Sign Up"),u.a.createElement("div",{className:"formParent"},a.map(function(a){return u.a.createElement("div",{key:a.id},u.a.createElement(m.a,{value:a.config.value,elementType:a.config.elementType,elementConfig:a.config.elementConfig,label:a.config.elementConfig.label,changed:function(t){return e.changeInput(t,a.id)},invalid:!a.config.valid,touched:a.config.touched,errorMessage:a.config.errorMessage}))})),u.a.createElement(d.a,{type:"submit",centered:!0,disabled:!this.state.formIsValid||this.state.isLogged,click:this.signup},"Submit"),u.a.createElement("div",{className:"image"},this.state.imageSelected?u.a.createElement("img",{style:{width:"150px",height:"150px"},src:this.state.imageSelected,alt:"sdilhf"}):null)))}}]),a}(c.Component);a.default=Object(v.a)(f,h.a)}}]);
//# sourceMappingURL=9.c60c58c4.chunk.js.map
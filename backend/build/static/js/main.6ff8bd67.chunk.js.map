{"version":3,"sources":["Components/Navigation/NavigationItem/NavigationItem.js","Containers/NavigationButton/NavigationButton.js","Components/Footer/Footer.js","Components/Layout/Layout.js","Components/Homepage/Blogs/Blog/Blog.js","Components/Homepage/Blogs/Blogs.js","Components/Homepage/Users/User/User.js","Components/Homepage/Users/Users.js","Containers/Home/Home.js","Containers/Logout/Logout.js","App.js","store/reducers/user.js","index.js","Components/Button/Button.js","Components/Spinner/Spinner.js","store/actionCreators/User.js","store/actionTypes/ActionTypes.js"],"names":["navigationItem","props","react_default","a","createElement","className","onClick","closenav","react_router_dom","to","link","exact","children","NavigationButton","state","navOpen","closeNav","_this","setState","openNav","navlinks","this","token","Fragment","NavigationItem_NavigationItem","userId","htmlFor","type","id","CSSTransition","mountOnEnter","unmountOnExit","in","timeout","classNames","enter","enterActive","exit","exitActive","Component","connect","auth","footer","layout","Containers_NavigationButton_NavigationButton","Footer_Footer","blog","data-src","photo","alt","title","body","postCreator","createdAt","Button","click","onGoToPost","blogs","map","post","Blog_Blog","key","_id","substring","user","name","goToPost","bind","userPhoto","postNumber","onGoToProfile","users","User_User","posts","length","goToProfile","dbPromise","idb","db","objectStoreNames","contains","createObjectStore","keyPath","HomePage","signal","axios","CancelToken","source","mostLikedBlog","followedUsers","history","push","pathname","_this2","query","headers","Content-Type","cancelToken","then","data","sortedPost","sort","b","likes","shift","result","cancel","st","_this3","_this$state","Spinner","window","transaction","objectStore","getAll","navigator","onLine","src","Blogs","Date","slice","Users","followers","Logout","onLogout","react_router","dispatch","ActionCreators","Auth","React","lazy","__webpack_require__","e","Signin","UserProfile","NewPost","Promise","all","Post","Posts","App","installButton","deferredPrompt","installApp","_callee","regenerator_default","wrap","_context","prev","next","abrupt","prompt","userChoice","sent","outcome","console","log","stop","addEventListener","preventDefault","matchMedia","matches","standalone","onAuth","Layout","react","fallback","style","width","backgroundColor","build_default","condition","border","fontFamily","fontSize","cursor","padding","display","margin","letterSpacing","fontWeight","outline","position","background","color","boxShadow","borderRadius","left","transform","path","render","component","LogoutPage","withRouter","ActionTypes","require","initialState","loading","error","userReducer","arguments","undefined","action","SIGNINSTART","Object","objectSpread","SIGNINSUCCESS","SIGNINFAIL","LOGOUT","rootReducer","combineReducers","UserReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","app","es","src_App_0","ReactDOM","document","getElementById","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","button","classes","centered","red","join","disabled","spinner","d","__webpack_exports__","signinFail","logout","signinExpiration","authenticate","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","serviceWorker","ready","reg","pushManager","getSubscription","subscription","unsubscribe","successful","formData","FormData","append","endpoint","localStorage","getItem","Accept","Authorization","res","catch","err","setTimeout","removeItem","setItem","getTime","signinSucess","r"],"mappings":"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","file":"static/js/main.6ff8bd67.chunk.js","sourcesContent":["import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './NavigationItem.css';\r\n\r\nconst navigationItem = props => {\r\n    return (\r\n        <li className=\"navItemLi\" onClick={props.closenav}>\r\n            <NavLink to={props.link} exact>{props.children}</NavLink>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default navigationItem;","import React, {Component} from 'react';\r\nimport './NavigationButton.css';\r\nimport NavigationItem from '../../Components/Navigation/NavigationItem/NavigationItem';\r\nimport CSSTransition from 'react-transition-group/CSSTransition';\r\nimport {connect} from 'react-redux';\r\n\r\nclass NavigationButton extends Component {\r\n    state = {\r\n        navOpen: false\r\n    }\r\n\r\n    closeNav = () => {\r\n        this.setState({navOpen: false})\r\n    }\r\n\r\n    openNav = () => {\r\n        this.setState({navOpen: true})\r\n    }\r\n    render() {\r\n        let navlinks;\r\n        if (!this.props.token) {\r\n            navlinks = (\r\n                <>\r\n                    <NavigationItem link=\"/\" closenav={this.closeNav}>Home</NavigationItem>\r\n                    <NavigationItem link=\"/auth\" closenav={this.closeNav}>Sign Up</NavigationItem>\r\n                    <NavigationItem link=\"/signin\" closenav={this.closeNav}>Sign In</NavigationItem>\r\n                    <NavigationItem link=\"/posts\" closenav={this.closeNav}>Posts</NavigationItem>\r\n                </>\r\n            )\r\n        } else {\r\n            navlinks = (\r\n                <>\r\n                    <NavigationItem link=\"/\" closenav={this.closeNav}>Home</NavigationItem>\r\n                    <NavigationItem link=\"/posts\" closenav={this.closeNav}>Posts</NavigationItem>\r\n                    <NavigationItem link=\"/newpost\" closenav={this.closeNav}>Create New Post</NavigationItem>\r\n                    <NavigationItem link={\"/userprofile/\" + this.props.userId} closenav={this.closeNav}>My Profile</NavigationItem>\r\n                    <NavigationItem link=\"/logout\" closenav={this.closeNav}>Logout</NavigationItem>\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            <nav className=\"nav\">\r\n                <label htmlFor=\"menu\">menu</label>\r\n                <input type=\"checkbox\" id=\"menu\" />\r\n                <div className=\"navigationButton__marks\" onClick={this.openNav}>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n                <CSSTransition mountOnEnter \r\n                               unmountOnExit\r\n                               in={this.state.navOpen}\r\n                               timeout={700}\r\n                               classNames={{\r\n                                   enter: '',\r\n                                   enterActive: 'OpenNav',\r\n                                   exit: '',\r\n                                   exitActive: 'CloseNav'\r\n                               }}>\r\n                    <div className=\"nav__navItems\">\r\n                        <div className=\"nav__navItems__close\">\r\n                            <div className=\"nav__navItems__close__marks\" onClick={this.closeNav}>\r\n                                <div></div>\r\n                                <div></div>\r\n                            </div>\r\n                        </div>\r\n                        <ul className=\"nav__navItems__items\">\r\n                               {navlinks}\r\n                        </ul>\r\n                    </div>\r\n                </CSSTransition>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token: state.auth.token,\r\n        userId: state.auth.userId\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(NavigationButton);","import React from 'react';\r\nimport './Footer.css';\r\n\r\nconst footer = props => {\r\n    return (\r\n        <footer>\r\n            <p>&copy;BlogPosts, Inc, All Rights Reserved. <span>Terms of Service</span></p>\r\n        </footer>\r\n    )\r\n};\r\n\r\nexport default footer;","import React from 'react';\r\nimport NavigationButton from '../../Containers/NavigationButton/NavigationButton';\r\nimport Footer from '../../Components/Footer/Footer';\r\nimport './Layout';\r\n\r\nconst layout = props => {\r\n    return (\r\n        <>\r\n            <NavigationButton />\r\n            <main>\r\n                {props.children}\r\n                <Footer />\r\n            </main>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default layout;","import React from 'react';\r\nimport './Blog.css';\r\nimport Button from '../../../Button/Button';\r\n\r\nconst blog = props => {\r\n    return (\r\n        <div className=\"recent_posts__flex__post\">\r\n            <div className=\"recent_posts__flex__post__image\">\r\n                <img className=\"lazyload\" data-src={props.photo} alt=\"recent post Pic\" />\r\n            </div>\r\n            <h2>{props.title}</h2>\r\n            <p>{props.body}</p>\r\n            <div className=\"recent_posts__flex__post__postedBy\">\r\n                Posted By <span>{props.postCreator}</span> on <span>{props.createdAt}</span>\r\n            </div>\r\n            <Button click={props.onGoToPost}>Read More</Button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default blog;","import React from 'react';\r\nimport Blog from './Blog/Blog';\r\n\r\nconst blogs = props => {\r\n    return props.blogs.map(post => {\r\n        return <Blog key={post._id}\r\n                     photo={post.photo}\r\n                     title={post.title}\r\n                     body={post.body.substring(0, 150) + '...'}\r\n                     postCreator={post.user.name}\r\n                     createdAt={post.createdAt}\r\n                     onGoToPost={props.goToPost.bind(this, post._id)} />;\r\n    });\r\n};\r\n\r\nexport default blogs;","import React from 'react';\r\nimport './User.css';\r\nimport Button from '../../../Button/Button';\r\n\r\nconst user = props => {\r\n    return (\r\n        <div className=\"mostActiveUsers__flex__user\">\r\n            <div className=\"mostActiveUsers__flex__user__image\">\r\n                <img className=\"lazyload\" data-src={props.userPhoto} alt=\"userPic\" />\r\n            </div>\r\n            <h4>{props.name}</h4>\r\n            <p>Number of Blogs: <span>{props.postNumber}</span></p>\r\n            <Button click={props.onGoToProfile}>View Profile</Button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default user;","import React from 'react';\r\nimport User from './User/User';\r\n\r\nconst users = props => {\r\n    return props.users.map(user => {\r\n        return <User key={user._id}\r\n                     userPhoto={user.photo}\r\n                     name={user.name}\r\n                     postNumber={user.posts.length}\r\n                     onGoToProfile={props.goToProfile.bind(this, user._id)} />;\r\n    });\r\n};\r\n\r\nexport default users;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Blogs from '../../Components/Homepage/Blogs/Blogs';\r\nimport Spinner from '../../Components/Spinner/Spinner';\r\nimport Users from '../../Components/Homepage/Users/Users';\r\nimport * as idb from 'idb';\r\nimport './Home.css';\r\n\r\nconst dbPromise = idb.openDB('allPosts', 1, (db) => {\r\n    if (!db.objectStoreNames.contains('posts')) {\r\n        db.createObjectStore('posts', {keyPath: '_id'});\r\n    }\r\n    if (!db.objectStoreNames.contains('users')) {\r\n        db.createObjectStore('users', {keyPath: '_id'});\r\n    }\r\n    if (!db.objectStoreNames.contains('sync-posts')) {\r\n        db.createObjectStore('sync-posts', {keyPath: 'body'});\r\n    }\r\n});\r\n\r\nfunction readAllPosts(st) {\r\n    return dbPromise.then(db => {\r\n        var transaction = db.transaction(st, 'readonly');\r\n        var store = transaction.objectStore(st);\r\n        return store.getAll();\r\n    });\r\n}\r\n\r\nclass HomePage extends Component {\r\n\r\n    signal = axios.CancelToken.source()\r\n    state = {\r\n        blogs: [],\r\n        mostLikedBlog: null,\r\n        followedUsers: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        const requestBody = {\r\n            query: `\r\n                query {\r\n                    posts {\r\n                    _id\r\n                    title\r\n                    body\r\n                    photo\r\n                    createdAt\r\n                    user {\r\n                      _id\r\n                      name\r\n                    }\r\n                    likes {\r\n                        _id\r\n                        name\r\n                    }\r\n                }\r\n                }\r\n            `\r\n        };\r\n\r\n        axios.post('/graphql', requestBody, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            cancelToken: this.signal.token\r\n        }).then(blogs => {\r\n            const posts = blogs.data.data.posts;\r\n            const sortedPost = posts.sort((a, b) => {\r\n                return b.likes.length - a.likes.length;\r\n            }).shift();\r\n            this.setState({blogs: posts, mostLikedBlog: sortedPost});\r\n        });\r\n\r\n        const usersRequestBody = {\r\n            query: `\r\n                query {\r\n                    users {\r\n                    _id\r\n                    name\r\n                    photo\r\n                    posts {\r\n                    _id\r\n                    }\r\n                    followers {\r\n                        _id\r\n                    }\r\n                }  \r\n                }\r\n            `\r\n        };\r\n\r\n        return axios.post('/graphql', usersRequestBody, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            cancelToken: this.signal.token\r\n        }).then(result => {\r\n            const users = result.data.data.users;\r\n            this.setState({followedUsers: users});\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.signal.cancel('cancelled');\r\n    }\r\n\r\n    goToPost = (id) => {\r\n        this.props.history.push({\r\n            pathname: '/post/' + id\r\n        });\r\n    }\r\n\r\n    goToProfile = (id) => {\r\n        this.props.history.push('/userprofile/' + id);\r\n    };\r\n\r\n    render() {\r\n        const {blogs, mostLikedBlog, followedUsers} = this.state;\r\n        if (blogs === null || mostLikedBlog === null || followedUsers === null) {\r\n            return <Spinner />;\r\n        }\r\n        if ('indexedDB' in window) {\r\n            readAllPosts('users').then(data => {\r\n                if (!navigator.onLine) {\r\n                    this.setState({followedUsers: data});\r\n                }\r\n            });\r\n        }\r\n        return (\r\n            <>\r\n            <section className=\"section-most-viewed\">\r\n                <h2>Most Liked Blog</h2>\r\n                <div className=\"section-most-viewed__blog-parent\">\r\n                    <div className=\"section-most-viewed__blog-parent__blog\">\r\n                        <p>Blog Created By {this.state.mostLikedBlog.user.name}</p>\r\n                        <h1>{this.state.mostLikedBlog.title}</h1>\r\n                        <p>{this.state.mostLikedBlog.body.substring(0, 200) + '...'}</p>\r\n                        <Link to={\"/post/\" + this.state.mostLikedBlog._id}>Read More</Link>\r\n                    </div>\r\n                    <div className=\"section-most-viewed__blog-parent__image\">\r\n                        <img src={this.state.mostLikedBlog.photo} alt=\"Blog_Pic\" />\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <div className=\"recent_posts\">\r\n                <h1>Recent Blogs</h1>\r\n                <div className=\"recent_posts__flex\">\r\n                    <Blogs blogs={this.state.blogs.sort((a, b) => {\r\n                return new Date(b.createdAt) - new Date(a.createdAt);\r\n            }).slice(0, 3)}\r\n                           goToPost={this.goToPost} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mostActiveUsers\">\r\n                <h2>Most Followed Users</h2>\r\n                <div className=\"mostActiveUsers__flex\">\r\n                    <Users users={this.state.followedUsers.slice(0, 3).sort((a, b) => {\r\n                        return b.followers.length - a.followers.length;\r\n                    })}\r\n                           goToProfile={this.goToProfile} />\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport * as ActionCreators from '../../store/actionCreators/User';\r\nimport axios from 'axios';\r\n\r\nclass Logout extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.onLogout();\r\n    }\r\n    render() {\r\n        return (\r\n            <Redirect to=\"/\" />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token: state.auth.token,\r\n        userId: state.auth.userId\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onLogout: () => dispatch(ActionCreators.logout())\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout);","import React, {Suspense, Component} from 'react';\nimport {Switch, Route, withRouter, Redirect} from 'react-router-dom';\nimport './App.css';\nimport Layout from './Components/Layout/Layout';\nimport HomePage from './Containers/Home/Home';\nimport Spinner from './Components/Spinner/Spinner';\nimport {connect} from 'react-redux';\nimport * as ActionCreators from './store/actionCreators/User';\nimport LogoutPage from './Containers/Logout/Logout';\nimport Conditional from 'react-simple-conditional';\nimport axios from 'axios';\n\nconst Auth = React.lazy(() => {\n  return import('./Containers/Auth/Auth.js');\n});\n\nconst Signin = React.lazy(() => {\n  return import('./Containers/Signin/Signin.js');\n});\n\nconst UserProfile = React.lazy(() => {\n  return import('./Containers/UserProfile/UserProfile.js');\n});\n\nconst NewPost = React.lazy(() => {\n  return import('./Containers/NewPost/NewPost.js');\n});\n\nconst Post = React.lazy(() => {\n  return import('./Containers/Post/Post');\n});\n\nconst Posts = React.lazy(() => {\n  return import('./Containers/Posts/Posts');\n});\n\nclass App extends Component {\n\n  state = {\n    installButton: false\n  }\n  deferredPrompt = null;\n\n\n  componentDidMount() {\n    window.addEventListener('beforeinstallprompt',e=>{\n      e.preventDefault();\n      this.deferredPrompt = e;\n      // See if the app is already installed, in that case, do nothing\n      if((window.matchMedia && window.matchMedia('(display-mode: standalone)').matches) || window.navigator.standalone === true){\n        return false;\n      }\n      // Set the state variable to make button visible\n      this.setState({\n        installButton:true\n      });\n    });\n    this.props.onAuth();\n  }\n\n  installApp = async() => {\n    if(!this.deferredPrompt) {\n      return false;\n    }\n    this.deferredPrompt.prompt();\n    let outcome = await this.deferredPrompt.userChoice;\n    if(outcome.outcome=='accepted'){\n      console.log(\"App Installed\")\n    }\n    else{\n      console.log(\"App not installed\");\n    }\n    this.deferredPrompt=null;\n    this.setState({\n      installButton:false\n    })\n  }\n\n  render() {\n      const condStyle = {\n        border: 'none',\n        fontFamily: 'inherit',\n        fontSize: 'inherit',\n        cursor: 'pointer',\n        padding: '10px 20px',\n        display: 'inline-block',\n        margin: '15px -25px',\n        letterSpacing: '1px',\n        fontWeight: 700,\n        outline: 'none',\n        position: 'relative',\n        background: '#cb4e4e',\n        color: '#fff',\n        boxShadow: '0 6px #ab3c3c',\n        borderRadius: '0 0 5px 5px',\n        left: '50%',\n        transform: 'translateX(-50%)'\n      }\n    return (\n      <Layout>\n        <Suspense fallback={<Spinner />}>\n          <div style={{\n            width: '100%',\n            backgroundColor: '#5CDB95'\n          }}>\n            <Conditional condition={this.state.installButton} style={condStyle} onClick={this.installApp}>\n                Install As Application\n            </Conditional>\n          </div>\n          <Switch>\n            {!this.props.token ? <Route path=\"/auth\" render={(props) => <Auth {...props} />} exact /> : null }\n            {!this.props.token ? <Route path=\"/signin\" render={(props) => <Signin {...props} />} exact /> : null }\n            <Route path=\"/userprofile/:id\" render={(props) => <UserProfile {...props} />} exact />\n            {this.props.token ? <Route path=\"/newpost\" render={(props) => <NewPost {...props} />} exact /> : null }\n            <Route path=\"/post/:id\" render={(props) => <Post {...props} />} exact />\n            <Route path=\"/posts\" render={(props) => <Posts {...props} />} exact />\n            {this.props.token ? <Route path=\"/logout\" component={LogoutPage} /> : null }\n            <Route path=\"/\" component={HomePage} exact />\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </Layout>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuth: () => dispatch(ActionCreators.authenticate())\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","const ActionTypes = require('../actionTypes/ActionTypes.js');\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    token: null,\r\n    loading: false,\r\n    error: null\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ActionTypes.SIGNINSTART:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case ActionTypes.SIGNINSUCCESS:\r\n            return {\r\n                ...state,\r\n                userId: action.userId,\r\n                token: action.token,\r\n                loading: false\r\n            };\r\n        case ActionTypes.SIGNINFAIL:\r\n                return {\r\n                    ...state,\r\n                    error: action.error\r\n                };\r\n        case ActionTypes.LOGOUT:\r\n                return {\r\n                    ...state,\r\n                    userId: null,\r\n                    token: null,\r\n                    loading: false\r\n                };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware, compose, combineReducers} from 'redux';\nimport UserReducer from './store/reducers/user';\nimport thunk from 'redux-thunk';\n\nconst logger = store => {\n    return next => {\n        return action => {\n            return next(action);\n        };\n    };\n};\n\nconst rootReducer = combineReducers({\n    auth: UserReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(\n    applyMiddleware(logger, thunk)\n  ));\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'));\n","import React from 'react';\r\nimport './Button.css';\r\n\r\nconst button = props => {\r\n    const classes = ['myButton'];\r\n    if (props.centered) {\r\n        classes.push('centered');\r\n    }\r\n\r\n    if (props.red) {\r\n        classes.push('red');\r\n    }\r\n    return (\r\n        <button onClick={props.click} className={classes.join(' ')} type={props.type} disabled={props.disabled}>\r\n            {props.children}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default button;","import React from 'react';\r\nimport './Spinner.css';\r\n\r\nconst spinner = props => {\r\n    return (\r\n        <div className=\"loader\">Loading...</div>\r\n    )\r\n};\r\n\r\nexport default spinner;","import axios from 'axios';\r\nconst ActionTypes = require('../actionTypes/ActionTypes.js');\r\n\r\nexport const signinInit = () => {\r\n    return {\r\n        type: ActionTypes.SIGNINSTART,\r\n    };\r\n};\r\n\r\nexport const signinFail = (error) => {\r\n    return {\r\n        type: ActionTypes.SIGNINFAIL,\r\n        error: error\r\n    };\r\n};\r\n\r\nexport const signinSucess = (token, userId) => {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('userId', userId);\r\n    localStorage.setItem('expDate', new Date().getTime() + (1 * 60 * 60 * 1000));\r\n    return {\r\n        type: ActionTypes.SIGNINSUCCESS,\r\n        token: token,\r\n        userId: userId\r\n    };\r\n};\r\n\r\nexport const logout = () => {\r\n    navigator.serviceWorker.ready.then(function(reg) {\r\n        reg.pushManager.getSubscription().then(function(subscription) {\r\n            if (subscription) {\r\n                subscription.unsubscribe().then(function(successful) {\r\n                    const formData = new FormData();\r\n                    formData.append('endpoint', subscription.endpoint);\r\n                    formData.append('userId', localStorage.getItem('userId'));\r\n                    return axios.post('/unsubscribe', formData, {\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                            'Accept': 'application/json',\r\n                            'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n                        }\r\n                    }).then(res => {\r\n                        console.log(res);\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                }).catch(function(e) {\r\n                    console.log(e);\r\n                });\r\n            }\r\n        });\r\n    }).then(() => {\r\n        setTimeout(() => {\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('userId');\r\n            localStorage.removeItem('expDate');\r\n        }, 500);\r\n    })\r\n    return {\r\n        type: ActionTypes.LOGOUT,\r\n    };\r\n};\r\n\r\nexport const signinExpiration = (token, userId) => {\r\n    return dispatch => {\r\n        dispatch(signinSucess(token, userId));\r\n        setTimeout(() => {\r\n            dispatch(logout());\r\n        }, 3600 * 1000);\r\n    };\r\n};\r\n\r\nexport const authenticate = () => {\r\n    return dispatch => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            dispatch(logout());\r\n        } else {\r\n            const expDate = new Date(localStorage.getItem('expDate'));\r\n            if (expDate < new Date()) {\r\n                dispatch(logout());\r\n            } else {\r\n                const token = localStorage.getItem('token');\r\n                const userId = localStorage.getItem('userId');\r\n                dispatch(signinExpiration(token, userId));\r\n            }\r\n        }\r\n    };\r\n};","export const SIGNINSTART = 'SIGNINSTART';\r\nexport const SIGNINFAIL = 'SIGNINFAIL';\r\nexport const SIGNINSUCCESS = 'SIGNINSUCCESS';\r\nexport const LOGOUT = 'LOGOUT';"],"sourceRoot":""}